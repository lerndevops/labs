# what is statefull application ?

1. A stateful application is a program that saves client data from the activities of one session for use in the next session. The data that is saved is called the application's state. OR

2. Stateful applications require that data that is used or generated by the application is persisted, retained, backed up and accessible outside of the particular hosts that run the application

3. Statefull applications may expect to have static hostname of its replicas

4. Statefull applications may expect to start from a start point not as a whole


# what is StatefulSet in Kubernetes

> A StatefulSet in kubernetes Manages the deployment and scaling of a set of Pods, and provides guarantees about the ordering and uniqueness of these Pods.

> Like a Deployment, a StatefulSet manages Pods that are based on an identical container spec. 

> Unlike a Deployment, a StatefulSet maintains a sticky identity for each of their Pods. 

> These pods are created from the same spec, but are not interchangeable: each has a persistent identifier that it maintains across any rescheduling.

## in a statefull set we see 

### Stable, unique network identifiers
	- replicas get indices (0,1,2 .. ) providing a stable hostname for the pods 
	- stable DNS gets assigned with a headless service, can directly refer pods DNS to access
	
### Ordered, graceful deployment and scaling
	- the pods deployed in order (it creates first pod & waits till it up and running then creates second pod, continues the same order until last pod creation)
	- it is same with scale up or scale down again (when we scale down it brings the last indexed pod first and goes down accordingly)
	
### Stable, persistent storage
	- each pod in statefulset will have its own PV created, the data replication need to be managed by appliation or external way between all pods wirting data to their own persistent disks. 
	- when a statefulset pod is deleted the PV / PVC doesn't gets deleted. it has to be taken care manually. 
	
### headless Service 
	- a statefull set always require a headless service
	- headless service name must go under statefulset sepc in yaml file
